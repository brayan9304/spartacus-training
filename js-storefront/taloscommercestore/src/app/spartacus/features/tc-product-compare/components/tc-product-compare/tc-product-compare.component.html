<div class="product_compare" *ngIf="products$ | async as products">
    <div class="compare-container" *ngIf="products.length >= 2">
        <div *ngFor="let product of products" class="compare-item">
          <div class="product-image">
            <a
              [routerLink]="{ cxRoute: 'product', params: product } | cxUrl"
              class="cx-product-image-container"
              tabindex="-1"
            >
              <cx-media
                class="cx-product-image"
                [container]="product.images?.PRIMARY"
                format="product"
                [alt]="product.summary"
              >
              </cx-media>
            </a>
          </div>
          <div class="product-info">
                <a [routerLink]="{ cxRoute: 'product', params: product } | cxUrl" class="cx-product-name">
                <h2 [innerHtml]="product.nameHtml"></h2>
                </a>
        
                <cx-star-rating *ngIf="product.averageRating" [rating]="product?.averageRating"></cx-star-rating>
                <div *ngIf="!product.averageRating" class="cx-product-no-review">
                {{ 'productDetails.noReviews' | cxTranslate }}
                </div>
                <div class="cx-product-price" [attr.aria-label]="'productDetails.productPrice' | cxTranslate">
                {{ product.price?.formattedValue }}
                </div>
                <div>
                    <p class="cx-product-summary" [innerHtml]="product.summary">
                    {{ product.summary }}
                    </p>
                </div>
                <div>
                    <ng-template [cxOutlet]="ProductListOutlets.ITEM_ACTIONS">
                    <cx-add-to-cart *ngIf="product.stock?.stockLevelStatus !== 'outOfStock'" [showQuantity]="false"
                        [product]="product"></cx-add-to-cart>
                    </ng-template>
                </div>
          </div>
        </div>
    </div>
    <div *ngIf="products.length == 1">
        <p>You should select at least 2 products to compare</p>
    </div>
</div>
